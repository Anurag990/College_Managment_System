package com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.services;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.entites.AdmissionRecord;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.entites.Student;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.repositories.AdmissionRecordRepo;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.repositories.StudentRepo;import org.springframework.stereotype.Service;import java.util.Optional;@Servicepublic class AdmissionRecordService {    private  final AdmissionRecordRepo admissionRecordRepo;    private  final StudentRepo studentRepo;    public AdmissionRecordService(AdmissionRecordRepo admissionRecordRepo,StudentRepo studentRepo)    {        this.admissionRecordRepo= admissionRecordRepo;        this.studentRepo = studentRepo;    }    public AdmissionRecord createNewAdmission(AdmissionRecord admissionRecord) {        return admissionRecordRepo.save(admissionRecord);    }    public AdmissionRecord getAdmissionById(Long admissionId) {        return admissionRecordRepo.findById(admissionId).orElse(null);    }    public AdmissionRecord takeAdmission(Long studentId, Long admissionId) {        Optional<Student> student = studentRepo.findById(studentId);        Optional<AdmissionRecord> admissionRecord = admissionRecordRepo.findById(admissionId);       return admissionRecord.flatMap(admission ->                student.map(student1->                        {                            admission.setStudent(student1);                            return admissionRecordRepo.save(admission);                        }                        )).orElse(null);    }}