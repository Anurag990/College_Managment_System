package com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.services;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.entites.Student;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.entites.Subject;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.repositories.StudentRepo;import com.codingshuttle.tutorial.dataMapping.CollegeManagmentSystem.repositories.SubjectRepo;import org.springframework.stereotype.Service;import java.util.Optional;@Servicepublic class StudentService {    private final StudentRepo studentRepo;    private final SubjectRepo subjectRepo;    public  StudentService(StudentRepo studentRepo, SubjectRepo subjectRepo)    {        this.studentRepo = studentRepo;        this.subjectRepo = subjectRepo;    }    public Student createNewStudent(Student student) {        return studentRepo.save(student);    }    public Student getStudentById(Long studentId) {        return studentRepo.findById(studentId).orElse(null);    }    public Student assignSubjectToStudent(Long studentId, Long subjectId) {        Optional<Student>student = studentRepo.findById(studentId);        Optional<Subject> subject = subjectRepo.findById(subjectId);        if(student.isPresent() && subject.isPresent())        {            Student studentEntity = student.get();            Subject subjectEntity = subject.get();            studentEntity.getSubjects().add(subjectEntity);            subjectEntity.getStudent().add(studentEntity);            subjectRepo.save(subjectEntity);            return  studentRepo.save(studentEntity);        }        else        {            return  null;        }    }}